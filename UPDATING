This file documents some of the problems you may encounter when upgrading
your ports.  We try our best to minimize these disruptions, but sometimes
they are unavoidable.

You should get into the habit of checking this file for changes each time
you update your ports collection, before attempting any port upgrades.

20180507:
  AFFECTS: users of math/suitesparse who build it locally
  AUTHOR: yuri@FreeBSD.org

  The suitesparse needs to be uninstalled before math/suitesparse can be
  correctly built. This is true for the version 5.2.0 and prior versions.

20180505:
  AFFECTS: users of www/gitea
  AUTHOR: stb@lassitu.de

  The www/gitea port no longer requires shell/bash.  If you want to
  stop using bash and deinstall the package, make sure to set the
  configuration in etc/gitea/conf/app.ini, section [repository],
  SCRIPT_TYPE to "sh".  See app.ini.sample for an example.

20180501:
  AFFECTS: users of www/node
  AUTHOR: bhughes@FreeBSD.org

  The www/node port has been udpated to Node.js v10.0.0, the latest
  upstream release. This is a major release, including many significant
  changes. Users are encouraged to read the release announcements before
  upgrading:

  https://nodejs.org/en/blog/release/v10.0.0/

  In particular, Node.js now depends on OpenSSL 1.1.0h, so the
  BUNDLED_SSL option is enabled by default. Users can disable this
  option when using security/openssl-devel as their default SSL library.

20180430:
  AFFECTS: users of news/nntp
  AUTHOR: dinoex@FreeBSD.org

  The option INETD was removed. If you used inetd, please change the path
  in /etc/inetd.conf from /usr/local/sbin/nntpd to /usr/local/libexec/nntpd.

20180428:
  AFFECTS: users of security/libressl
  AUTHOR: brnrd@FreeBSD.org

  The port has been updated to the latest stable version 2.7 of LibreSSL.
  The shared library versions of the libraries have been bumped.

  After upgrading, manually update all packages that depend on any of the
  libraries provided by LibreSSL (libssl, libcrypto and libtls) since the
  versions of these libraries have changed. Normally, you can obtain the
  list of dependent software by running the following command:

  # pkg info -r libressl

  Then you should rebuild all ports depending on libressl to avoid dangling
  shared library dependencies. Poudriere and pkg handle this correctly,
  portmaster and portupgrade users can use the following to rebuild all
  dependent ports.

  Portmaster users:
      portmaster -r libressl
  Portupgrade users:
      portupgrade -fr security/libressl

20180427:
  AFFECTS: users of sysutils/zrepl
  AUTHOR: woodsb02@FreeBSD.org

  The zrepl update to 0.0.3 includes the following breaking changes:
  - Snapshots are automatically bookmarked and pruning of bookmarks must
    be configured by adding the keep_bookmarks parameter to the prune
    policy section of the zrepl configuration file (source side only).
    Be sure to understand the meaning bookmarks have for maximum
    allowable replication downtime.
  - The ssh+stdinserver transport protocol has changed, requiring zrepl
    to be updates on both the sending and receiving side, and the daemon
    restarted on both sides.
  - The first outlet in the global.logging section of the configuration
    file is now used for logging meta-errors (e.g. problems encountered
    when writing to other logging outlets).

20180425:
  AFFECTS: users of databases/pecl-redis
  AUTHOR: daniel@blodan.se

  pecl-redis 4.0.0 breaks backwards compatibility, users 
  not aware if you are using the changed functionality or not
  should swap to databases/pecl-redis3

20180417:
  AFFECTS: users of dns/dnscrypt-proxy2
  AUTHOR: egypcio@googlemail.com

  DNSCrypt-Proxy 2 has been updated to 2.0.10 and the configuration file
  has changed from ${PREFIX}/etc/dnscrypt-proxy.toml to
  ${PREFIX}/etc/dnscrypt-proxy/dnscrypt-proxy.toml.

20180416:
  AFFECTS: users of mail/postgrey
  AUTHOR: ports.maintainer@evilphi.com

  If you use any of the optional make.conf variables to specify the
  postgrey user, group, db dir, or run dir when building the port, you will
  need to change the prefix from PG_ to POSTGREY_*.  The variables were
  renamed to solve a namespace collision with the PostgreSQL ports.

20180412:
  AFFECTS: users of devel/php-composer
  AUTHOT: madpilot@FreeBSD.org

  Flavors have been added to the composer port with the update to
  1.6.3. Due to the change in PKGNAME pkg(and other tols) will not
  notice the update. It is required to tell pkg about the name
  change, for example:

  # pkg set -n php-composer:php56-composer

20180410:
  AFFECTS: users of KDE SC4
  AUTHOR: kde@FreeBSD.org

  Most of KDE Applications 17.12.3 have now landed in the ports tree.
  There are still some missing pieces, that will follow soon.

  As mentioned in the commit messages, users of KDE SC4 should stick with the
  <foo>-kde4 named package.

  As the MOVED entries for ports like databases/akonadi-kde4 have been removed
  in the process of updating (as there now is again a databases/akonad), there
  might be issues for people that update from a too old installed package list
  with portmaster.

  These should be fixable by issuing a command Ã  la
  # pkg set --change-origin databases/akonadi:databases/akonadi-kde4 akonadi

20180409:
  AFFECTS: users of net-im/matterircd
  AUTHOR: norrland@nullbyte.se

  Matterircd has been updated to 0.17.0 and mattermost configuration settings
  need to be migrated to [mattermost] section. See matterircd.toml.sample.

20180404:
  AFFECTS: users of www/nextcloud
  AUTHOR: brnrd@FreeBSD.org

  With the 13.0.1 update the path for Apps bundled with the package has
  changed from "apps" to "apps-pkg". You must add an entry to the
  "apps_paths" array in config/config.php of your nextcloud installation,
  a patch for the default installation can be applied with:

  # cd /usr/local/www/nextcloud
  # su -m www -c "php ./occ config:import < /usr/local/share/nextcloud/fix-apps_paths.json"

20180401:
  AFFECTS: users of mail/dovecot and mail/dovecot-pigeonhole
  AUTHOR: adamw@FreeBSD.org

  Dovecot has been upgraded to 2.3.1, and pigeonhole to 0.5.1. Most
  existing dovecot installations MUST be modified for 2.3, but for
  most users the modifications are simple.

  Modify your Dovecot conf.d/ files before spinning up 2.3.1. The
  upgrading instructions are detailed here:

  	https://wiki2.dovecot.org/Upgrading/2.3

20180330:
  AFFECTS: users of lang/perl5*
  AUTHOR: mat@FreeBSD.org

  The default Perl version has been switched to Perl 5.26.  If you are using
  binary packages to upgrade your system, you do not have anything to do, pkg
  upgrade will do the right thing.  For the other people, follow the
  instructions in entry 20161103, it should still be the same.

20180325:
  AFFECTS: users of net/samba48
  AUTHOR: timur@FreeBSD.org

  New Samba 4.8 upgrades the relevant database files in the way, that doesn't
  allow easy fallback to the previous versions of Samba. So, before upgrading
  to the new version make a backup of the /var/db/samba4/ directory.

  Full list of changes, new features and upgrade procedure is available at:

        https://www.samba.org/samba/history/samba-4.8.0.html

  Please, read it carefully before upgrading!.

20180320:
  AFFECTS: users of x11/sterm
  AUTHOR: pkubaj@anongoth.pl

  The user-defined options in config.h have changed.  You should
  compare your config.h file with the default one and change
  appropriately.

20180319:
  AFFECTS: users of dns/dnsmasq
  AUTHOR: mandree@FreeBSD.org

  Note that with dnsmasq 2.79, some parts of the interface have changed in an
  incompatible way versus previous versions. This comprises changed recursion
  behaviour, signature support, a change for SIGINT (vs. SIGHUP) behaviour.

  Note especially that dnsmasq will no longer answer non-recursive queries
  unless it is marked authoritative!  Be sure to see the manual page for the
  various --auth-* options, such as --auth-zone.

  Please see the CHANGELOG that ships with dnsmasq for details.

20180317:
  AFFECTS: users of multimedia/plexpy
  AUTHOR: feld@FreeBSD.org

  Plexpy project has been renamed to Tautulli due to copyright
  infringement. The software also has received a major update. Please
  see the following upgrade instructions:

  - Install multimedia/tautulli
  - Create /var/db/tautulli, owned by the user you will run the daemon as
    (default: nobody).
  - Copy your config.ini and plexpy.db to /var/db/tautulli
  - Enable the service and start the software

   Tautulli should automatically find your database file, rename it to
   tautulli.db, and perform the required updates.

20180310:
  AFFECTS: users of security/openssl
  AUTHOR: brnrd@FreeBSD.org

  The EXPCIPHERS option has been removed from the security/openssl port.
  Use the security/openssl-unsafe port if you require this feature.

20180309:
  AFFECTS: users of net/unison
  AUTHOR: madpilot@FreeBSD.org

  Unison has been upgraded to version 2.51, which uses a different
  wire protocol than 2.48 did.  In order to support synchronization
  with other computers where Unison is still at version 2.48, a new
  port net/unison248 has been created.  It provides unison248 and,
  for the x11 flavor, also unison248-text.  This unison248 port can
  be installed in parallel with the existing net/unison port.

20180308:
  AFFECTS: */php* */pecl* */pear*
  AUTHOR: mat@FreeBSD.org

  PHP extensions and modules have been flavored.

  People using Poudriere 3.2+ and binary packages do not have to do anything if
  they are using PHP applications.

  PHP modules and extensions may have change their names from php5- or php7- to
  fully versionned phpXY-.
  PECL extensions and PEAR modules package names have changed from pecl- and
  pear- to phpXX-pecl and phpXX-pear-.

  To rename an installed package to match the new naming scheme, for example,
  for the imagick pecl extension, run:

    # pkg set -n pecl-imagick:php56-pecl-imagick

  For other people, to build the PHP 7.2 version of, for example,
  databases/php-memcached, you need to run:

    # make FLAVOR=php72 install

20180220:
  AFFECTS: users of www/nextcloud
  AUTHOR: brnrd@FreeBSD.org

  The file and directory permissions of Nextcloud have changed. Write
  permissions have been removed from all directories except `data' and
  `config'. For the updater to work, the app store of your installation
  must be disabled. To disable the app-store prior to updating the
  package:

  # cd /usr/local/www/nextcloud
  # su -m www -c "php ./occ config:system:set appstoreenabled --value=false --type=boolean"

  If you've already updated your nextcloud package, you must manually edit
  the configuration of nextcloud (config/config.php) and add

  	'appstoreenabled' => false,

  to the CONFIG array before the updater will run.

20180214:
  AFFECTS: users of lang/ruby23
  AUTHOR: swills@FreeBSD.org

  The default ruby version has been updated from 2.3 to 2.4.

  If you compile your own ports you may keep 2.3 as the default version by
  adding the following lines to your /etc/make.conf file:

  #
  # Keep ruby 2.3 as default version
  #
  DEFAULT_VERSIONS+=ruby=2.3

  If you wish to update to the new default version, you need to first stop any
  software that uses ruby. Then, you will need to follow these steps, depending
  upon how you manage your system.

  If you use pkgng, simply upgrade:
  # pkg upgrade

  If you use portmaster, install new ruby, then rebuild all ports that depend
  on ruby:
  # portmaster -o lang/ruby24 lang/ruby23
  # portmaster -R -r ruby-2.4

  If you use portupgrade, install new ruby, then rebuild all ports that depend
  on ruby:

  # pkg delete -f ruby portupgrade
  # make -C /usr/ports/ports-mgmt/portupgrade install clean
  # pkg set -o lang/ruby23:lang/ruby24
  # portupgrade -x ruby-2.4.\* -fr lang/ruby24

20180209:
  AFFECTS: users of japanese/lookup
  AUTHOR: yasu@utahime.org

  japanese/lookup is update to 1.99.96.20130920. This version is not
  compatible with previous version 1.4.1 and incompatibility includes
  how to setup. See info of Lookup for detail.

20180209:
  AFFECTS: users of net-mgmt/pmacct
  AUTHOR: pi@FreeBSD.org

  To allow separete pmacctd instances per interface, use

    pmacctd_enable="YES"
    pmacctd_interfaces="re1 re2"

  in /etc/rc.conf. The path to the config files will be

    /usr/local/etc/pmacct/<interface>

20180208:
  AFFECTS: users of mail/mailman*
  AUTHOR: mandree@FreeBSD.org

  In order to overcome complaints about mismatched checksums in
  Mailman/Default.py, mailman now configures the DEFAULT_EMAIL_HOST
  and DEFAULT_URL_HOST to "localhost" statically, and the rc script
  will check this and refuse to start on next boot.

  Users must configure DEFAULT_EMAIL_HOST and DEFAULT_URL_HOST in
  Mailman/mm_cfg.py properly and add this line below:
  add_virtualhost(DEFAULT_URL_HOST, DEFAULT_EMAIL_HOST)

  A short example has been added to:
  ${PREFIX}/local/share/doc/mailman/FreeBSD-post-install-notes.

  As of 2.1.26_3, the post-install script will add back the prior
  default settings to mm_cfg.py (instead of Defaults.py) if no
  virtual hosts have been defined, to cover the normal use cases
  and initial installation.

20180201:
  AFFECTS: users of editors/emacs* and all ports using Emacs via USES=emacs
  AUTHOR: jrm@FreeBSD.org

  The Emacs ports framework has been updated to support flavors and the
  editors/emacs-nox11 port has been replaced by the nox flavors of
  editors/emacs and editors/emacs-devel.

  Supported Flavors
  --------------------------------------------------------
  editors/emacs:       full canna nox
  editors/emacs-devel: full nox
  ports using Emacs:   full canna nox devel_full devel_nox
  --------------------------------------------------------

  For those using pre-built packages, if

     # pkg upgrade

  does not install the new Emacs package, use one of

     # pkg install emacs
     # pkg install emacs-canna
     # pkg install emacs-nox
     # pkg install emacs-devel
     # pkg install emacs-devel_nox

  For those building their own packages, a flavor other than the default must be
  specified.  For example, to build the nox flavor of editors/emacs, or to build
  the devel_full flavor of a port using Emacs, use

     # poudriere bulk -j 11amd64 editors/emacs@nox
     # poudriere bulk -j 11amd64 print/pdf-tools@devel_full

  or

     # make FLAVOR=nox install
     # make FLAVOR=devel_full

  An alternative to the default flavor, full, for editors/emacs and
  editors/emacs-devel can be set in make.conf.  For example, to specify nox as
  the default flavor for both ports, use

     .if ${.CURDIR:M*/editors/emacs*}
     FLAVOR?=nox
     .endif

  For ports using Emacs, an alternative to the default flavor, full,
  can be also be set in make.conf.  For example, to automatically depend on
  emacs-nox, use

     DEFAULT_VERSIONS+=emacs=nox

20180117:
  AFFECTS: users of x11-toolkits/kf5-kirigami2 and x11/kf5-plasma-framework
  AUTHOR: kde@FreeBSD.org

  Files that were previously installed by kf5-kirigami2 are now installed 
  by kf5-plasma-framework. This can lead to a conflict during the upgrade
  of the packages. 
  It is recommended to first remove the package kf5-kirigami2.

20180115:
  AFFECTS: users of net-p2p/transmission-daemon
  AUTHOR: woodsb02@FreeBSD.org

  The transmission-daemon port has been updated to 2.92_4 to incorporate
  a patch which mitigates DNS rebinding attacks. This will prevent
  clients from being able to connect to the transmission daemon using
  DNS with any hostname other than localhost, unless one of the
  following is done:
    - Enable password authentication, then any hostname is allowed.
      This can be achieved by either:
        - setting rpc-authentication-required to true, and adding
          credentials to the rpc-username and rpc-password fields in
          settings.json (must be done whilst the transmission service is
          stopped); or
        - running transmission-daemon with the following arguments
          (these can be set with transmission_flags in /etc/rc.conf):
          -t -u USERNAME -v PASSWORD
    OR
    - Add the allowed server hostnames to the rpc-host-whitelist setting
      in settings.json (must be done whilst the transmission service is
      stopped). Note that this value is NOT a list of allowed CLIENTS,
      but instead a list of allowed SERVER hostnames.

20180111:
  AFFECTS: users of editors/vim-lite
  AUTHOR: adamw@FreeBSD.org

  The vim-lite port has been renamed to vim-console, because it isn't
  actually any lighter. All three vim packages are built with
  --enable-features=huge. Portmaster users will need to run this
  command:

  	portmaster -o editors/vim-console editors/vim-lite

  If the switch doesn't happen automatically for you, just delete the
  vim-lite package and install vim-console.

20180109:
  AFFECTS: users of www/qt5-webengine
  AUTHOR: kde@FreeBSD.org

  The upgrade of www/qt5-webengine to 5.9.3 may fail if an older version
  of it is installed. It is recommended to either build the port in a
  builder like poudriere, or to deinstall and then doing an install.

20180107:
  AFFECTS: users of security/gnupg and mail/mutt and mail/neomutt
  AUTHOR: adamw@FreeBSD.org

  The invocation for gpg from mutt/neomutt changed between gnupg-2.0
  (which has expired and is now removed) and gnupg-2.2 (the current
  version in the tree). Unless you're using gpgme, PGP-related
  commands may fail in (neo)mutt.

  In all cases, users are strongly urged to use security/gpgme to take
  care of the setup for you. If you prefer to roll your own, the
  following muttrc/neomuttrc entry has been reported to work:

  pgp_decrypt_command="gpg2 %?p?--passphrase-fd 0 --pinentry-mode=loopback? --no-verbose --batch --output - %f"

  See muttrc(5), neomuttrc(5), mutt.org, and neomutt.org for instructions
  on (neo)mutt's gpg and gpgme instructions.

20180102:
  AFFECTS: users of devel/awscli
  AUTHOR: bhughes@FreeBSD.org

  The package name for devel/awscli has changed (back) to just awscli.
  The introduction of flavors erroneously caused the awscli package to
  be renamed to py27-awscli.

20171230:
  AFFECTS: users of net-im/ejabberd
  AUTHOR: ashish@FreeBSD.org

  If you are building ejabberd 17.11 on a host, which already has an older 
  version of ejabberd installed, then build process will fail with "unknown type
  specifier" errors. As a workaround, please uninstall ejabberd before building
  ejabberd.

  This has been reported upstream at:
  https://github.com/processone/ejabberd/issues/2194

20171223:
  AFFECTS: users of dns/dnscrypt-proxy
  AUTHOR: egypcio@googlemail.com

  The 1.9.5_3 update of dns/dnscrypt-proxy replaces the default resolver used
  by dnscrypt-proxy (cisco/OpenDNS) by a random one that does not log entries
  and supports dnssec.

20171223:
  AFFECTS: users of samba44
  AUTHOR: antoine@FreeBSD.org

  The default version of samba has been switched from 4.4 to 4.6.
  Upgrade instructions:

  For package users having samba44 installed indirectly (as a dependency):
    # pkg upgrade

  For package users having samba44 installed directly (leaf port):
    # pkg upgrade
    # pkg install samba46

  For ports users:
    If you want to keep samba44, add DEFAULT_VERSIONS+= samba=4.4 to make.conf

    If you want to upgrade to samba46, remove samba44:
    # pkg delete -f samba44

    Portmaster users:
    # portmaster net/samba46
    # portmaster -a

    Portupgrade users:
    # portinstall net/samba46
    # portupgrade -a

20171218:
  AFFECTS: users of devel/gogs
  AUTHOR: dg@syrec.org

  Gogs user has been changed to "git" and configuration files are now
  located in /usr/local/etc/gogs. Users should update ownership of the
  existing Gogs directories with

  # chown -R git:git /var/db/gogs
  # chown -R git:git /var/log/gogs

  and either move or merge the contents of /var/db/gogs/home/.ssh with
  /usr/local/git/.ssh.  After migration, /var/db/gogs/home can be removed,
  and both the user "gogs" and the group "gogs" should be deleted:

  # rm -rf /var/db/gogs/home
  # pw userdel gogs
  # pw groupdel gogs

20171215:
  AFFECTS: users of finance/gnucash
  AUTHOR: madpilot@FreeBSD.org

  The gnucash port has been converted too use flavors, the GUILE1
  and GUILE2 options have been converted to flavors so that two
  separate packages can be provided.

  Since the next major release of gnucash will drop guile1 support,
  the default flavor package is compiled against guile2, switching
  the previous default.

  Users who intend to stay on the guile1 version should deinstall
  the default gnucash package and install the gnucash-guile1 package.

20171214:
  AFFECTS: all ports users
  AUTHOR: adamw@FreeBSD.org

  Support for some deprecated variables is going to be removed soon. If
  you use any of the following constructs (usually in /etc/make.conf),
  you must switch to the new incantations:

               OLD                                 NEW
  -------------------------------    ------------------------------
  WITH_[...]                         OPTIONS_SET= [...]
  WITHOUT_[...]                      OPTIONS_UNSET= [...]
  WITHOUT_NLS                        OPTIONS_UNSET= NLS
  NOPORTDOCS                         OPTIONS_UNSET= DOCS
  NOPORTEXAMPLES                     OPTIONS_UNSET= EXAMPLES
  WITH_BDB_VER=[...]                 DEFAULT_VERSIONS+= bdb=[...]
  OVERRIDE_LINUX_BASE_PORT=[...]     DEFAULT_VERSIONS+= linux=[...]
  WITH_OPENSSL_BASE                  DEFAULT_VERSIONS+= ssl=base
  WITH_OPENSSL_PORT                  DEFAULT_VERSIONS+= ssl=port

20171205:
  AFFECTS: users of dns/powerdns
  AUTHOR: krion@FreeBSD.org

  Recursor passthrough removal: This will impact many installations.
  Previously, the PowerDNS Authoritative Server contained a facility
  for sending recursion desired queries to a resolving backend,
  possibly after first consulting its local cache. This feature
  (ârecursor=â) was frequently confusing and also delivered
  inconsistent results, for example when a query ended up referring
  to a CNAME that was outside of the Authoritative Serverâs
  knowledge.

20171203:
  AFFECTS: users of sysutils/dsbmd
  AUTHOR: mk@freeshell.de

  Due to new configuration variables and new features, users of dsbmd
  version 0.4.1 and earlier should consider recreating their dsbmd.conf from
  the new dsbmd.conf.sample.

20171130:
  AFFECTS: all ports users
  AUTHOR: adamw@FreeBSD.org

  The ports tree has gained "flavors," which are a way to produce multiple
  variations of a port. Some intended examples of this are language
  modules being produced for multiple language versions, and lite/nox11 packages,
  without needing separate ports for each variation. Python ports have already
  been flavored (see the below entry). Flavor support must be added to
  individual ports.

  Flavors are already supported by make, pkg, poudriere, and synth; see the
  manpages for those tools for usage instructions. Portmaster and portupgrade
  don't support flavors yet, but community work on those tools is in progress.

  Some bumps and breakages are inevitable for a major change such as this.
  Please report breakages and monitor the ports@ list for solutions as they
  become available.

20171130:
  AFFECTS: */py*
  AUTHOR: mat@FreeBSD.org

  Ports using Python via USES=python are now flavored.  All the py3-* ports
  have been removed and folded into their py-* master ports.

  People using Poudriere 3.2+ and binary packages do not have to do anything.

  For other people, to build the Python 3.6 version of, for example,
  databases/py-gdbm, you need to run:

    # make FLAVOR=py36 install

20171126:
  AFFECTS: users of security/p5-openxpki
  AUTHOR: dbaio@FreeBSD.org

  OpenXPKI has been updated to 1.19.4, some important changes were made, please
  see the upgrading documentation for more details:

  http://openxpki.readthedocs.io/en/latest/upgrading.html

20171126:
  AFFECTS: users of mail/sympa
  AUTHOR: dgeo@centrale-marseille.fr

  Web's static dirs have moved to a single dedicated directory.
  Users should review webserver's /static configuration (examples in
  share/examples/sympa).

20171119:
  AFFECTS: users of sysutils/zrepl
  AUTHOR: woodsb02@FreeBSD.org

  Zrepl has been updated to 0.0.2, which introduces two changes that will
  require existing users to change their zrepl.yml config file:
    - global.logging is no longer a dictionary but a list.
      Refer to the new format here: https://zrepl.github.io/configuration/logging.html
    - source job field datasets renamed to filesystems.
      Refer to the new format here: https://zrepl.github.io/configuration/jobs.html

    https://zrepl.github.io/changelog.html#id1

20171117:
  AFFECTS: users of sysutils/terraform
  AUTHOR: lifanov@FreeBSD.org

  Terraform has been updated to 0.11, which introduces several incompatible
  changes. Please follow upgrading guide when updating the package.

    https://www.terraform.io/upgrade-guides/0-11.html

20171114:
  AFFECTS: users of ports-mgmt/poudriere
  AUTHOR: bdrewery@FreeBSD.org

  "poudriere options" now respects the -p flag while it did not before.
  This means that it may create an empty directory when used now rather
  than continue to use your existing options set.  You may want to not
  use -p or move your existing options directory, in
  /usr/local/etc/poudriere.d/*-options, to the new format with the
  ports tree name in it.  Otherwise "poudriere bulk" will use the
  new empty directory.

  This behavior will likely change in 3.2.1 to be more backwards-compatible.

20171112:
  AFFECTS: consumers of devel/oniguruma*
  AUTHOR: riggs@FreeBSD.org

  Outdated versions of oniguruma have been removed from the ports
  tree; devel/oniguruma is the only supported version, currently
  replacing devel/oniguruma6.
  pkg should handle this automatically while users of portmaster or
  portupgrade might need to take additional manual steps:

  for users of portmaster:
	portmaster -o devel/oniguruma devel/oniguruma6
	portmaster -r devel/oniguruma

  for users of portupgrade:
	portupgrade -o devel/oniguruma devel/oniguruma6
	portupgrade -fr devel/oniguruma

20171107:
  AFFECTS: users of www/node
  AUTHOR: bhughes@FreeBSD.org	

  The www/node port has been updated to node.js v9.0.0, the latest
  upstream release. A new port, www/node8, has been created for the
  v8.x LTS branch. Users wanting to stay on v8.x can replace www/node
  with www/node8 with one of the following commands:

  # pkg install www/node8
    or
  # portmaster -o www/node8 www/node
    or
  # portupgrade -o www/node8 www/node

20171107:
  AFFECTS: users of security/libressl
  AUTHOR: brnrd@FreeBSD.org

  The port has been updated to the latest stable version 2.6 of LibreSSL.
  The shared library versions of the libraries have been bumped.

  After upgrading, manually update all packages that depend on any of the
  libraries provided by LibreSSL (libssl, libcrypto and libtls) since the
  versions of these libraries have changed. Normally, you can obtain the
  list of dependent software by running the following command:

  # pkg info -r libressl

  Then you should rebuild all ports depending on libressl to avoid dangling
  shared library dependencies. Poudriere and pkg handle this correctly,
  portmaster and portupgrade users can use the following to rebuild all
  dependent ports.

  Portmaster users:
      portmaster -r libressl
  Portupgrade users:
      portupgrade -fr security/libressl

20171105:
  AFFECTS: users of www/mod_auth_cas
  AUTHOR: brnrd@FreeBSD.org

  The configuration of mod_auth_cas has changed since the previous
  version. Visit the https://github.com/apereo/mod_auth_cas page for
  an overview of all configuration parameters

20171105:
  AFFECTS: users of www/mod_rpaf2
  AUTHOR: brnrd@FreeBSD.org

  The configuration of mod_rpaf2 has been heavily modified since version
  0.6. Have a look at https://github.com/gnif/mod_rpaf/tree/v0.8.4 to 
  determine what you need to change in your configuration.

20171031:
  AFFECTS: users of editors/vim
  AUTHOR: adamw@FreeBSD.org

  The default vim language bindings have changed. Python 2 and 3 bindings
  may now be enabled independently (the default vim package will continue
  to depend on python-2.7).

  Lua and Tcl bindings have been disabled by default. If you need these
  bindings, you'll need to compile vim yourself. Note that bindings are
  only for plugins written in those languages, and for interactive
  debugging. Editing, indenting, linting, completing, and syntax-highlighting
  those languages is NOT affected.

20171026:
  AFFECTS: users of devel/universal-ctags
  AUTHOR: rodrigo@FreeBSD.org

  Due to conflicts with emacs ctag (editors/emacs-devel, editors/emacs-nox11, editors/emacs),
  the installed files will be prefixed with the 'u' character.
  The new binaries will de named uctags and ureadtags.

20171015:
  AFFECTS: people using WITHOUT_DEBUG
  AUTHOR: madpilot@FreeBSD.org

  The WITHOUT_DEBUG flag has been retired. It's only purpose was
  to override a global WITH_DEBUG, if that was defined, but many
  ports were ignoring such flag even if honouring WITH_DEBUG.

  The same effect can be obtained using ".undef WITH_DEBUG" without
  any special support in port Makefiles.

20171012:
  AFFECTS: users of security/openssh-portable
  AUTHOR: bdrewery@FreeBSD.org

  OpenSSH has been upgraded to 7.6p1 which has removed several deprecated
  features:

    - SSH version 1 support dropped.
    - Dropped support for hmac-ripemd160 MAC.
    - Dropped support for the ciphers arcfour, blowfish and CAST.
    - RSA keys less than 1024 bits are refused.

  The HPN option is currently disabled by default, and does not build,
  in the package.  This follows what happened in base as well.

20171004:
  AFFECTS: users of security/krb5-appl
  AUTHOR: cy@FreeBSD.org

  Configuration options to rename kerberos ftp, telnet, rlogin, rsh, and
  rcp are now default to avoid conflicting with net/bsdrcmds packages
  (in poudriere). Deselect the options to use the original command names
  and also uninstall net/bsdrcmds to avoid the conflict.

20171002:
  AFFECTS: users of x11-wm/cwm
  AUTHOR: tobik@FreeBSD.org

  Configuration options were renamed and you need to update your ~/.cwmrc
  accordingly.  Make sure to check cwmrc(5) for the new option names.
  cwm-migrate-config.pl can help in migrating your ~/.cwmrc.

20171001:
  AFFECTS: users of mail/isync using Maildir sub-folders
  AUTHOR: ehaupt@FreeBSD.org

  If you have Maildir sub-folders, you need to update the configuration
  to specify the naming style.

  Please refer to the mbsync(1) man page section 'SubFolders
  Verbatim|Maildir++|Legacy' on how to make the apropriate changes.

20170930:
  AFFECTS: users of PHP and its modules
  AUTHOR: eugen@FreeBSD.org

  All lang/php* ports switched to depend on devel/oniguruma6
  instead of previous oniguruma version some time ago.

  If you have not moved from devel/oniguruma5 before and
  have troubles updating PHP,

  for users of portmaster:
	portmaster -o devel/oniguruma6 devel/oniguruma5
	portmaster -r devel/oniguruma6

  for users of portupgrade:
	portupgrade -o devel/oniguruma6 devel/oniguruma5
	portupgrade -fr devel/oniguruma6

  pkg should handle this automatically.

20170928:
  AFFECTS: users of security/courier-authlib and its modules
  AUTHOR: madpilot@FreeBSD.org

  The affected ports have been modified to follow the upstream
  suggested best practice to use the sysconftool on installation.

  Please make sure your configuration files include all the comments
  that tool uses to correctly update the configuration on update.

  You can use the ".sample" or ".dist" files as templates for missing
  comments if needed.

20170915:
  AFFECTS: users of devel/cargo
  AUTHOR: rust@FreeBSD.org

  Starting with version 1.19.0, Cargo is provided with Rust. Therefore,
  devel/cargo was merged into lang/rust.

20170914:
  AFFECTS: users of CMake & CMake Modules
  AUTHOR: adridg@FreeBSD.org

  The devel/cmake-modules port has been merged into devel/cmake.

  The benefit of being able to update the modules without the binary
  is outweighed by the issues caused by having the binary out-of-sync
  with the modules.

  Users should delete the devel/cmake-modules package and then
  upgrade or reinstall devel/cmake.
 
  All ports have been updated to depend only on CMake.

20170904:
  AFFECTS: users of net-mgmt/seafile-server
  AUTHOR: ultima@FreeBSD.org

  Users using MySQL updating to 6.1.2 need to verify table's collation
  are utf8_unicode_ci. Upstream has set collation type to be implicit
  and will cause all libraries to disappear if set to incorrect collation.

20170828:
  AFFECTS: users of security/gnupg
  AUTHOR: adamw@FreeBSD.org

  security/gnupg has become the new stable version of GnuPG. This is
  an LTS branch. gnupg20 will reach EOL at the end of the year, and all
  gnupg20 users should migrate to gnupg22.

  See https://gnupg.org/faq/whats-new-in-2.1.html for important changes.

20170820:
  AFFECTS: users of www/uwsgi
  AUTHOR: ultima@FreeBSD.org

  The default socket owner and mode had been changed from www:www 600
  to uwsgi:www 660. This should resolve issue #1471[1] on github.

  [1] https://github.com/unbit/uwsgi/issues/1471

20170808:
  AFFECTS: users of lang/ghc and */hs-*
  AUTHOR: haskell@FreeBSD.org

  The Glorious Glasgow Haskell Compiler has been updated to version
  8.0.2.  Hence it is recommended to rebuild or reinstall all the
  dependent ports and the lang/ghc port itself in one of the following
  ways:

  # portmaster -w -r ghc
    or
  # portupgrade -fr lang/ghc

  In case of pkg(8), it is probably safer to remove all the GHC-dependent
  packages along with GHC and reinstall everything from scratch.  For
  example:

  # pkg query "%ro" ghc > ghc-pkgs.txt
  # pkg delete -y lang/ghc

  In ghc-pkgs.txt, check and remove all the packages that have been moved
  on the update, then use this command:

  # pkg install -y `cat ghc-pkgs.txt`

20170807:
  AFFECTS: users of mail/dovecot2 and mail/dovecot2-pigeonhole
  AUTHOR: adamw@FreeBSD.org

  Now that dovecot1 has been removed from the ports tree, dovecot2
  and dovecot2-pigeonhole have been renamed to simply dovecot and
  dovecot-pigeonhole.

  pkg should handle the rename automatically, but if you run into
  trouble, you can point pkg at the new origin via:

  # pkg set -o mail/dovecot2:mail/dovecot
  # pkg set -o mail/dovecot2-pigeonhole:mail/dovecot-pigeonhole

  Similarly, you can point portmaster at the new location via:

  # portmaster -o mail/dovecot mail/dovecot2

  If all else fails, just remove and reinstall the package:

  # pkg delete dovecot2
  # pkg install dovecot

20170806:
  AFFECTS: users of mail/dovecot2-antispam-plugin
  AUTHOR: adamw@FreeBSD.org

  Development of the antispam plugin ceased years ago, and upstream
  recommends using pigeonhole (mail/dovecot2-pigeonhole) instead.

  See https://wiki2.dovecot.org/HowTo/AntispamWithSieve for a recipe
  to replicate the antispam plugin's behaviour.

20170803:
  AFFECTS: users of net/guacamole-client
  AUTHOR: ultima@FreeBSD.org

  As of version 0.9.13, the configuration directory for guacamole-client
  has changed from /usr/local/etc/guacamole to
  /usr/local/etc/guacamole-client.

20170803:
  AFFECTS: users of net/guacamole-server
  AUTHOR: ultima@FreeBSD.org

  As of version 0.9.13, the configuration directory for guacamole-server
  has changed from /usr/local/etc/guacd to /usr/local/etc/guacamole-server.

20170803:
  AFFECTS: users of sysutils/terraform
  AUTHOR: lifanov@FreeBSD.org

  Terraform was updated to version 0.10.0, which split out provider plugins.
  Provider plugins are now installed in the project directory the next time
  "terraform init" is run. Please see the complete upgrading guide:

  https://www.terraform.io/upgrade-guides/0-10.html

20170729:
  AFFECTS: users of net-p2p/bitcoin
  AUTHOR: lwhsu@FreeBSD.org

  Bitcoin data directory has been changed from /var/db/bitcoind to
  /var/db/bitcoin.  Users of previous versions may want to migrate data to
  new location or specify bitcoind_data.

20170729:
  AFFECTS: users of mail/mailscanner
  AUTHOR: crees@FreeBSD.org

  Version 5.0.3 of MailScanner introduced a serious bug in packaging.
  Unfortunately if it is installed, your configuration has been deleted.

  If you have managed to get it working, please back up
  /usr/local/etc/MailScanner as it will also be deleted on deinstall
  of the same package.

20170726:
  AFFECTS: users of www/luakit
  AUTHOR: ports@textmail.me

  Luakit was updated to version 2017.07.26, which is incompatible to the
  previous release from 2012. Please remove old configuration files from
  the following directories:
        ${PREFIX}/etc/xdg/luakit
        ${HOME}/.config/luakit
        ${HOME}/.local/share/luakit

20170721:
  AFFECTS: users of security/sshguard*
  AUTHOR: dan.mcgregir@usask.ca

  security/sshguard was updated to 2.0.0, and security/sshguard-pf,
  security/sshguard-ipfw, and security/sshguard-null have been merged into
  security/sshguard.

  Configuration of the service is now handled in ${PREFIX}/etc/sshguard.conf.
  Please select the desired backend, -null is selected by default.

  In order to upgrade from 1.7.1 change the origin to security/sshguard

  # pkg set -o security/sshguard-ipfw:security/sshguard
  # pkg set -o security/sshguard-null:security/sshguard
  # pkg set -o security/sshguard-pf:security/sshguard

20170717:
  AFFECTS: users of devel/p5-Log-Any and devel/p5-Log-Any-Adapter-Syslog
  AUTHOR: eugen@FreeBSD.org

  devel/p5-Log-Any-Adapter-Syslog functionality have been merged into
  devel/p5-Log-Any and from now devel/p5-Log-Any must be used.

  devel/p5-Log-Any-Adapter-Syslog will be marked as deprecated and removed.

20170712:
  AFFECTS: users of devel/apr1
  AUTHOR: brnrd@FreeBSD.org

  APR was updated to 1.6.0 and APR-util was updated to 1.6.2

  The Apache Portable Runtime project removed support for FreeTDS from the
  APR Utilities in version 1.6. Users of FreeTDS will have to migrate
  configurations to use the newly added ODBC support in conjunction with
  FreeTDS using FreeTDS' ODBC capabilities.

  Please rebuild all ports which are using functions from APR/APR-util
  such as Apache, Subversion, etc. Normally, you can obtain the list of
  dependent software by running the following command:

  # pkg info -r apr

  Then you should rebuild all ports depending on APR(-util) to avoid
  dangling shared library dependencies. Poudriere and pkg handle this
  correctly, portmaster and portupgrade users can use the following to
  rebuild all dependent ports.

  Portmaster users:
      portmaster -r apr
  Portupgrade users:
      portupgrade -fr devel/apr1

20170710:
  AFFECTS: users of net-im/ejabberd
  AUTHOR: ashish@FreeBSD.org

  After update to 17.07, there is an issue[1] expected related to certificate
  verification with TLS connections.

  [1] - https://github.com/processone/ejabberd/issues/1833

20170628:
  AFFECTS: users of www/node
  AUTHOR: bhughes@FreeBSD.org

  The www/node port has been updated to Node.js v8.1.2, the latest
  upstream release. This is a major release, including many significant
  changes. Users are encouraged to read the release announcements before
  upgrading:

  https://nodejs.org/en/blog/release/v8.0.0/
  https://nodejs.org/en/blog/release/v8.1.0/

20170626:
  AFFECTS: users of net-mgmt/zabbix24*
  AUTHOR: dbaio@FreeBSD.org

  Zabbix 2.4 has reached end of life and net-mgmt/zabbix24* ports have been
  removed. Users that have not yet moved to a newer version, should use now
  net-mgmt/zabbix3-* (LTS release) or net-mgmt/zabbix32-* (Standard release).

  See more info about Zabbix releases here:
  http://www.zabbix.com/life_cycle_and_release_policy

20170624:
  AFFECTS: users of mail/dcc-dccd
  AUTHOR: ultima@FreeBSD.org

  The ALT_HOME option was removed in 1.3.159_1. If this option is being
  used, please be sure to move the old home directory, /var/dcc to
  ${PREFIX}/dcc.

20170624:
  AFFECTS: users of net/rabbitmq
  AUTHOR: olgeni@FreeBSD.org

  The rabbitmq-3.6.10_1 port has been changed to use version 19 of
  the Erlang runtime, because RabbitMQ is not yet compatible with
  version 20.

  Upgrades to the previous rabbitmq-3.6.10 must be avoided as
  they can lead to data corruption due to changes in Erlang 20.

20170622:
  AFFECTS: users of database/postgresql* and other software using PostgreSQL to run
  AUTHOR: tz@FreeBSD.org

  The default version of PostgreSQL has been switched from 9.3 to 9.5.
  The upgrade procedure can use up twice the space the databases
  currently needs. If you have a big amount of stored data take a
  closer look at the manpage of pg_upgrade for avoidance and/or
  speedup of the upgrade.

  The upgrade instructions consider a basic usage and do not match
  complex scenarious like replication, sharding or similar.

  Upgrade instructions:

  First stop your PostgreSQL, create PostgreSQL-binaries and backup your data.
  If you have another Version of PostgreSQL installed, for example 9.3.12, your
  files are named accourding to this.

  # service postgresql stop
  # pkg create postgresql93-server postgresql93-contrib
  # mkdir /tmp/pg-upgrade
  # tar xf postgresql93-server-9.3.17.txz -C /tmp/pg-upgrade
  # tar xf postgresql93-contrib-9.3.17.txz -C /tmp/pg-upgrade
  # mv /usr/local/pgsql/data /usr/local/pgsql/data93
  # pkg delete -f databases/postgresql93-server databases/postgresql93-contrib databases/postgresql93-client

  Now update PostgreSQL:

    pkg user:
    # pkg install databases/postgresql95-server databases/postgresql95-contrib
    # pkg upgrade

    Portmaster users:
    # portmaster databases/postgresql95-server databases/postgresql95-contrib
    # portmaster -a

    Portupgrade users:
    # portinstall databases/postgresql95-server databases/postgresql95-contrib
    # portupgrade -a

  After installing the new PostgreSQL version you need to convert
  all your databases to new version:

  # service postgresql initdb
  # su -l pgsql -c "pg_upgrade -b /tmp/pg-upgrade/usr/local/bin/ -d /usr/local/pgsql/data93/ -B /usr/local/bin/ -D /usr/local/pgsql/data/"

  Now the migration is finished. You can start PostgreSQL again with:

  # service postgresql start

20170614:
  AFFECTS: users of editors/calligra
  AUTHOR: groot@kde.org

  Calligra has been updated to 3.0.1, which is a KDE Frameworks 5 (KF5)
  based application. Calligra now uses Qt5 and KF5. The translations have
  been merged (upstream) into the application, so separate language /
  translation ports are no longer provided. Krita has been split out
  (upstream) into a separate application, which is packaged as
  graphics/krita. Kexi, the visual database applications creator,
  is packaged separately as databases/kexi.

  Users of Calligra are encouraged to install Krita and Kexi separately,
  and to report issues with the upgrade to kde@.

20170613:
  AFFECTS: users of net-im/ejabberd
  AUTHOR: ashish@FreeBSD.org

  After update to 17.04, there is an issue[1] expected with S2S connections,
  which can be resolved by adding 'mod_s2s_dialback: {}' to 'modules' section
  of configuration file.

  [1] - https://github.com/processone/ejabberd/issues/1700

20170603:
  AFFECTS: users of www/kanboard
  AUTHOR: joneum@FreeBSD.org

  After update to 1.0.44, there are following breaking changes:
  * Move calendar to external plugin: https://github.com/kanboard/plugin-calendar
  * Move Gantt charts to external plugin: https://github.com/kanboard/plugin-gantt
  * Move Gravatar to external plugin: https://github.com/kanboard/plugin-gravatar

20170602:
  AFFECTS: users of Qt 5 in presence of binutils
  AUTHOR: amdmi3@FreeBSD.org

  gold linker from binutils 2.28 may produce duplicate library
  symbols, which makes shared libraries created with it not usable
  with conventional ld linker.

  This affects Qt, as qt5-qmake will detect gold and use it to build
  Qt libraries. Broken libQt5Core will be produced and ports which
  depend on it will then fail to link with the following errors:

    ...lib/libQt5Core.so:(.dynamic+0x27ac8): multiple definition of `__bss_start at Qt_5'
    ...lib/libQt5Core.so:(.dynamic+0x27ac8): first defined here
    ...lib/libQt5Core.so:(.dynamic+0x27ac8): multiple definition of `_edata at Qt_5'
    ...lib/libQt5Core.so:(.dynamic+0x27ac8): first defined here
    ...lib/libQt5Core.so:(.dynamic+0x2b2d0): multiple definition of `_end at Qt_5'

  Qt5 was fixed to ignore gold. If you see these errors, you
  need to rebuild qt5-qmake, then all qt5-* ports.

20170529:
  AFFECTS: users of sysutils/dsbmd
  AUTHOR: mk@freeshell.de

  Due to new configuration variables and semantic changes, users of dsbmd
  version 0.2 and earlier should consider recreating their dsbmd.conf from
  the new dsbmd.conf.sample.

20170518:
  AFFECTS: users of www/yarn
  AUTHOR: adamw@FreeBSD.org

  The default node backend for yarn has switched to www/node. Binary
  package users should expect the node backend to be switched during
  the upgrade. To keep the node6 (LTS) backend, rebuild www/yarn with
  the NODE6 backend option enabled.

20170517:
  AFFECTS: users of security/pecl-ssh2
  AUTHOR: dbaio@FreeBSD.org

  The security/pecl-ssh2 has been upgraded to version 1.0, and the new
  version is not compatible with PHP5. If you need PHP5 support, you can
  find version 0.13 in security/pecl-ssh2-0.

